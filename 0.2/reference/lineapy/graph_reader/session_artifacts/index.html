
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../../images/lineapy-square-light.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>session_artifacts - LineaPy</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lineapy.graph_reader.session_artifacts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
<a href="https://lineacommunity.slack.com/join/shared_invite/zt-18kizfn3b-1Qu_HDT3ahGudnAwoFAw9Q#/shared-invite/email">
    Have questions? Join our
    <span class="twemoji slack">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg>
    </span>
    <strong>Slack</strong> community and ask away!
</a>

          </div>
          
        </aside>
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
You are viewing an old version of the documentation.
<a href="../../../../..">
    <strong>Click here to go to the latest version.</strong>
</a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="LineaPy" class="md-header__button md-logo" aria-label="LineaPy" data-md-component="logo">
      
  <img src="../../../../images/icon-lineapy-white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LineaPy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              session_artifacts
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/LineaLabs/lineapy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    LineaLabs/lineapy
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../concepts/artifact/" class="md-tabs__link">
        Concepts
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../tutorials/00_lineapy_quickstart/" class="md-tabs__link">
        Tutorials
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../guides/setup/" class="md-tabs__link">
        Guides
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        API Reference
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="LineaPy" class="md-nav__button md-logo" aria-label="LineaPy" data-md-component="logo">
      
  <img src="../../../../images/icon-lineapy-white.png" alt="logo">

    </a>
    LineaPy
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/LineaLabs/lineapy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    LineaLabs/lineapy
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Concepts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Concepts" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../concepts/artifact/" class="md-nav__link">
        Artifact
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../concepts/artifact-store/" class="md-nav__link">
        Artifact Store
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../concepts/pipeline/" class="md-nav__link">
        Pipeline
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tutorials/00_lineapy_quickstart/" class="md-nav__link">
        Getting Started with LineaPy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tutorials/01_using_artifacts/" class="md-nav__link">
        Working with LineaPy Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tutorials/02_pipeline_building/" class="md-nav__link">
        Creating a Pipeline with LineaPy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/setup/" class="md-nav__link">
        Installation and Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/configuration/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/configuration/storage-location/" class="md-nav__link">
        Storage Location
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/configuration/storage-backend/" class="md-nav__link">
        Storage Backend
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3">
          Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Usage" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/usage/code-cleanup/" class="md-nav__link">
        Code Cleanup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/usage/package-annotation/" class="md-nav__link">
        Package Annotation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/usage/artifact-reuse/" class="md-nav__link">
        Reusing Past Work
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/usage/pipeline-building/" class="md-nav__link">
        Pipeline Building
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/usage/pipeline-parametrization/" class="md-nav__link">
        Pipeline Parametrization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/usage/pipeline-testing/" class="md-nav__link">
        Pipeline Testing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4">
          Contributing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Contributing" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/contributing/process/" class="md-nav__link">
        Contribution Process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/contributing/setup/" class="md-nav__link">
        Setup and Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/contributing/tips/" class="md-nav__link">
        Recommended Practices
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4_4" type="checkbox" id="__nav_4_4_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4_4">
          Areas to Contribute
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Areas to Contribute" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_4_4">
          <span class="md-nav__icon md-icon"></span>
          Areas to Contribute
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/contributing/areas/update-docs/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/contributing/areas/annotate-package/" class="md-nav__link">
        Package Annotation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/contributing/areas/integrate-pipeline-framework/" class="md-nav__link">
        Integrating Pipeline Frameworks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guides/support/" class="md-nav__link">
        More Help
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          API Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1" type="checkbox" id="__nav_5_1" checked>
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">lineapy</a>
          
            <label for="__nav_5_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="lineapy" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          lineapy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_1" type="checkbox" id="__nav_5_1_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/">api</a>
          
            <label for="__nav_5_1_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="api" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_1">
          <span class="md-nav__icon md-icon"></span>
          api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/api/" class="md-nav__link">
        api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/api_utils/" class="md-nav__link">
        api_utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/artifact_serializer/" class="md-nav__link">
        artifact_serializer
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_1_4" type="checkbox" id="__nav_5_1_1_4" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../api/models/">models</a>
          
            <label for="__nav_5_1_1_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="models" data-md-level="4">
        <label class="md-nav__title" for="__nav_5_1_1_4">
          <span class="md-nav__icon md-icon"></span>
          models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/models/linea_artifact/" class="md-nav__link">
        linea_artifact
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/models/linea_artifact_store/" class="md-nav__link">
        linea_artifact_store
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/models/pipeline/" class="md-nav__link">
        pipeline
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_2" type="checkbox" id="__nav_5_1_2" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../cli/">cli</a>
          
            <label for="__nav_5_1_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="cli" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_2">
          <span class="md-nav__icon md-icon"></span>
          cli
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/cli/" class="md-nav__link">
        cli
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_3" type="checkbox" id="__nav_5_1_3" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../data/">data</a>
          
            <label for="__nav_5_1_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="data" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_3">
          <span class="md-nav__icon md-icon"></span>
          data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/graph/" class="md-nav__link">
        graph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data/types/" class="md-nav__link">
        types
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_4" type="checkbox" id="__nav_5_1_4" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../db/">db</a>
          
            <label for="__nav_5_1_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="db" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_4">
          <span class="md-nav__icon md-icon"></span>
          db
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../db/db/" class="md-nav__link">
        db
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../db/relational/" class="md-nav__link">
        relational
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../db/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_5" type="checkbox" id="__nav_5_1_5" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../editors/">editors</a>
          
            <label for="__nav_5_1_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="editors" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_5">
          <span class="md-nav__icon md-icon"></span>
          editors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editors/ipython/" class="md-nav__link">
        ipython
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../editors/ipython_cell_storage/" class="md-nav__link">
        ipython_cell_storage
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_6" type="checkbox" id="__nav_5_1_6" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../exceptions/">exceptions</a>
          
            <label for="__nav_5_1_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="exceptions" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_6">
          <span class="md-nav__icon md-icon"></span>
          exceptions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../exceptions/create_frame/" class="md-nav__link">
        create_frame
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../exceptions/db_exceptions/" class="md-nav__link">
        db_exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../exceptions/excepthook/" class="md-nav__link">
        excepthook
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../exceptions/flag/" class="md-nav__link">
        flag
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../exceptions/l_import_error/" class="md-nav__link">
        l_import_error
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../exceptions/user_exception/" class="md-nav__link">
        user_exception
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_7" type="checkbox" id="__nav_5_1_7" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../execution/">execution</a>
          
            <label for="__nav_5_1_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="execution" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_7">
          <span class="md-nav__icon md-icon"></span>
          execution
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../execution/context/" class="md-nav__link">
        context
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../execution/executor/" class="md-nav__link">
        executor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../execution/globals_dict/" class="md-nav__link">
        globals_dict
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../execution/inspect_function/" class="md-nav__link">
        inspect_function
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../execution/side_effects/" class="md-nav__link">
        side_effects
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_8" type="checkbox" id="__nav_5_1_8" checked>
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">graph_reader</a>
          
            <label for="__nav_5_1_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="graph_reader" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_8">
          <span class="md-nav__icon md-icon"></span>
          graph_reader
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../artifact_collection/" class="md-nav__link">
        artifact_collection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_printer/" class="md-nav__link">
        graph_printer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node_collection/" class="md-nav__link">
        node_collection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../program_slice/" class="md-nav__link">
        program_slice
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          session_artifacts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        session_artifacts
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lineapy.graph_reader.session_artifacts" class="md-nav__link">
    lineapy.graph_reader.session_artifacts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lineapy.graph_reader.session_artifacts.SessionArtifacts" class="md-nav__link">
    SessionArtifacts
  </a>
  
    <nav class="md-nav" aria-label="SessionArtifacts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lineapy.graph_reader.session_artifacts.SessionArtifacts.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lineapy.graph_reader.session_artifacts.SessionArtifacts.get_libraries" class="md-nav__link">
    get_libraries()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../types/" class="md-nav__link">
        types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_9" type="checkbox" id="__nav_5_1_9" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../instrumentation/">instrumentation</a>
          
            <label for="__nav_5_1_9">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="instrumentation" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_9">
          <span class="md-nav__icon md-icon"></span>
          instrumentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../instrumentation/annotation_spec/" class="md-nav__link">
        annotation_spec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../instrumentation/control_flow_tracker/" class="md-nav__link">
        control_flow_tracker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../instrumentation/mutation_tracker/" class="md-nav__link">
        mutation_tracker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../instrumentation/tracer/" class="md-nav__link">
        tracer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../instrumentation/tracer_context/" class="md-nav__link">
        tracer_context
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_10" type="checkbox" id="__nav_5_1_10" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../plugins/">plugins</a>
          
            <label for="__nav_5_1_10">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="plugins" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_10">
          <span class="md-nav__icon md-icon"></span>
          plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/airflow_pipeline_writer/" class="md-nav__link">
        airflow_pipeline_writer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/argo_pipeline_writer/" class="md-nav__link">
        argo_pipeline_writer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/base_pipeline_writer/" class="md-nav__link">
        base_pipeline_writer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/dvc_pipeline_writer/" class="md-nav__link">
        dvc_pipeline_writer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/kubeflow_pipeline_writer/" class="md-nav__link">
        kubeflow_pipeline_writer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/loader/" class="md-nav__link">
        loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/pipeline_writer_factory/" class="md-nav__link">
        pipeline_writer_factory
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/ray_pipeline_writer/" class="md-nav__link">
        ray_pipeline_writer
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_10_9" type="checkbox" id="__nav_5_1_10_9" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../plugins/serializers/">serializers</a>
          
            <label for="__nav_5_1_10_9">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="serializers" data-md-level="4">
        <label class="md-nav__title" for="__nav_5_1_10_9">
          <span class="md-nav__icon md-icon"></span>
          serializers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/serializers/mlflow_io/" class="md-nav__link">
        mlflow_io
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/session_writers/" class="md-nav__link">
        session_writers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/task/" class="md-nav__link">
        task
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/taskgen/" class="md-nav__link">
        taskgen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_11" type="checkbox" id="__nav_5_1_11" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../system_tracing/">system_tracing</a>
          
            <label for="__nav_5_1_11">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="system_tracing" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_11">
          <span class="md-nav__icon md-icon"></span>
          system_tracing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../system_tracing/_function_calls_to_object_side_effects/" class="md-nav__link">
        _function_calls_to_object_side_effects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../system_tracing/_object_side_effect/" class="md-nav__link">
        _object_side_effect
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../system_tracing/_object_side_effects_to_side_effects/" class="md-nav__link">
        _object_side_effects_to_side_effects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../system_tracing/_op_stack/" class="md-nav__link">
        _op_stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../system_tracing/_trace_func/" class="md-nav__link">
        _trace_func
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../system_tracing/exec_and_record_function_calls/" class="md-nav__link">
        exec_and_record_function_calls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../system_tracing/function_call/" class="md-nav__link">
        function_call
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../system_tracing/function_calls_to_side_effects/" class="md-nav__link">
        function_calls_to_side_effects
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_12" type="checkbox" id="__nav_5_1_12" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../transformer/">transformer</a>
          
            <label for="__nav_5_1_12">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="transformer" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_12">
          <span class="md-nav__icon md-icon"></span>
          transformer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../transformer/base_transformer/" class="md-nav__link">
        base_transformer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../transformer/conditional_transformer/" class="md-nav__link">
        conditional_transformer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../transformer/node_transformer/" class="md-nav__link">
        node_transformer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../transformer/py37_transformer/" class="md-nav__link">
        py37_transformer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../transformer/py38_transformer/" class="md-nav__link">
        py38_transformer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../transformer/source_giver/" class="md-nav__link">
        source_giver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../transformer/transform_code/" class="md-nav__link">
        transform_code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../transformer/transformer_util/" class="md-nav__link">
        transformer_util
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_13" type="checkbox" id="__nav_5_1_13" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../utils/">utils</a>
          
            <label for="__nav_5_1_13">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="utils" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_13">
          <span class="md-nav__icon md-icon"></span>
          utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/__error_on_load/" class="md-nav__link">
        __error_on_load
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/__no_imported_submodule/" class="md-nav__link">
        __no_imported_submodule
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/__no_imported_submodule_prime/" class="md-nav__link">
        __no_imported_submodule_prime
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_13_4" type="checkbox" id="__nav_5_1_13_4" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../utils/analytics/">analytics</a>
          
            <label for="__nav_5_1_13_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="analytics" data-md-level="4">
        <label class="md-nav__title" for="__nav_5_1_13_4">
          <span class="md-nav__icon md-icon"></span>
          analytics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/analytics/event_schemas/" class="md-nav__link">
        event_schemas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/analytics/usage_tracking/" class="md-nav__link">
        usage_tracking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/analytics/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/benchmarks/" class="md-nav__link">
        benchmarks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/config/" class="md-nav__link">
        config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/constants/" class="md-nav__link">
        constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/deprecation_utils/" class="md-nav__link">
        deprecation_utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/lineabuiltins/" class="md-nav__link">
        lineabuiltins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/logging_config/" class="md-nav__link">
        logging_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/migration/" class="md-nav__link">
        migration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/tree_logger/" class="md-nav__link">
        tree_logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/validate_annotation_spec/" class="md-nav__link">
        validate_annotation_spec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/version/" class="md-nav__link">
        version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1_14" type="checkbox" id="__nav_5_1_14" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../visualizer/">visualizer</a>
          
            <label for="__nav_5_1_14">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="visualizer" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_1_14">
          <span class="md-nav__icon md-icon"></span>
          visualizer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../visualizer/graphviz/" class="md-nav__link">
        graphviz
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../visualizer/optimize_svg/" class="md-nav__link">
        optimize_svg
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../visualizer/visual_graph/" class="md-nav__link">
        visual_graph
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lineapy.graph_reader.session_artifacts" class="md-nav__link">
    lineapy.graph_reader.session_artifacts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lineapy.graph_reader.session_artifacts.SessionArtifacts" class="md-nav__link">
    SessionArtifacts
  </a>
  
    <nav class="md-nav" aria-label="SessionArtifacts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lineapy.graph_reader.session_artifacts.SessionArtifacts.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lineapy.graph_reader.session_artifacts.SessionArtifacts.get_libraries" class="md-nav__link">
    get_libraries()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>session_artifacts</h1>

<div class="doc doc-object doc-module">


<a id="lineapy.graph_reader.session_artifacts"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="lineapy.graph_reader.session_artifacts.SessionArtifacts" class="doc doc-heading">
        <code>SessionArtifacts</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

<a href="#lineapy.graph_reader.session_artifacts.SessionArtifacts" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">

  
      <p>Refactor a given session graph for use in a downstream task (e.g., pipeline building).</p>


        <details class="quote">
          <summary>Source code in <code>lineapy/graph_reader/session_artifacts.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">SessionArtifacts</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Refactor a given session graph for use in a downstream task (e.g., pipeline building).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_session_id</span><span class="p">:</span> <span class="n">LineaID</span>
    <span class="n">graph</span><span class="p">:</span> <span class="n">Graph</span>
    <span class="n">session_graph</span><span class="p">:</span> <span class="n">Graph</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">RelationalLineaDB</span>
    <span class="n">usercode_nodecollections</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">UserCodeNodeCollection</span><span class="p">]</span>
    <span class="n">import_nodecollection</span><span class="p">:</span> <span class="n">ImportNodeCollection</span>
    <span class="n">input_parameters_node</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">LineaID</span><span class="p">]</span>
    <span class="n">node_context</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">LineaID</span><span class="p">,</span> <span class="n">NodeInfo</span><span class="p">]</span>
    <span class="n">target_artifacts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">LineaArtifact</span><span class="p">]</span>
    <span class="n">reuse_pre_computed_artifacts</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">LineaArtifact</span><span class="p">]</span>
    <span class="n">all_session_artifacts</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">LineaID</span><span class="p">,</span> <span class="n">LineaArtifact</span><span class="p">]</span>
    <span class="n">input_parameters</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">nodecollection_dependencies</span><span class="p">:</span> <span class="n">TaskGraph</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">db</span><span class="p">:</span> <span class="n">RelationalLineaDB</span><span class="p">,</span>
        <span class="n">target_artifacts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">LineaArtifact</span><span class="p">],</span>
        <span class="n">input_parameters</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
        <span class="n">reuse_pre_computed_artifacts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">LineaArtifact</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">db</span> <span class="o">=</span> <span class="n">db</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">target_artifacts</span> <span class="o">=</span> <span class="n">target_artifacts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">target_artifacts_name</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">art</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">art</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_artifacts</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_session_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_artifacts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_session_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session_graph</span> <span class="o">=</span> <span class="n">Graph</span><span class="o">.</span><span class="n">create_session_graph</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_id</span>
        <span class="p">)</span>

        <span class="k">def</span> <span class="nf">_get_subgraph_from_node_list</span><span class="p">(</span>
            <span class="n">session_graph</span><span class="p">:</span> <span class="n">Graph</span><span class="p">,</span> <span class="n">node_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">LineaID</span><span class="p">]</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Graph</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Return the subgraph as LineaPy Graph from list of node id</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">nodes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">node_list</span><span class="p">:</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">session_graph</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_graph</span><span class="o">.</span><span class="n">get_subgraph</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span>

        <span class="c1"># Only interested union of sliced graph of each artifacts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graph</span> <span class="o">=</span> <span class="n">_get_subgraph_from_node_list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">session_graph</span><span class="p">,</span>
            <span class="nb">list</span><span class="p">(</span>
                <span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span>
                    <span class="o">*</span><span class="p">[</span>
                        <span class="nb">set</span><span class="p">(</span><span class="n">art</span><span class="o">.</span><span class="n">_get_subgraph</span><span class="p">()</span><span class="o">.</span><span class="n">nx_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">art</span> <span class="ow">in</span> <span class="n">target_artifacts</span>
                    <span class="p">]</span>
                <span class="p">)</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_parameters</span> <span class="o">=</span> <span class="n">input_parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reuse_pre_computed_artifacts</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">art</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">art</span> <span class="k">for</span> <span class="n">art</span> <span class="ow">in</span> <span class="n">reuse_pre_computed_artifacts</span>
        <span class="p">}</span>

        <span class="c1"># Retrive all artifacts within the subgraph of target artifacts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_retrive_all_session_artifacts</span><span class="p">()</span>
        <span class="c1"># Add extra attributes(from predecessors) at session Linea nodes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_node_context</span><span class="p">()</span>
        <span class="c1"># Divide session graph into a set of non-overlapping NodeCollection</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_slice_session_artifacts</span><span class="p">()</span>
        <span class="c1"># Determine dependencies of NodeCollections and check whether to</span>
        <span class="c1"># replace it with pre-calculated value from artifact store</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_nodecollection_dependencies</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">session_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">LineaID</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_id</span>

    <span class="k">def</span> <span class="nf">_update_dependent_variables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">nodeinfo</span><span class="p">:</span> <span class="n">NodeInfo</span><span class="p">,</span> <span class="n">variable_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">LineaID</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Dependent variables of each node is union of all tracked</span>
        <span class="c1"># variables from predecessors</span>
        <span class="k">for</span> <span class="n">prev_node_id</span> <span class="ow">in</span> <span class="n">nodeinfo</span><span class="o">.</span><span class="n">predecessors</span><span class="p">:</span>
            <span class="n">prev_nodeinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">prev_node_id</span><span class="p">]</span>
            <span class="n">dep</span> <span class="o">=</span> <span class="n">variable_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">prev_node_id</span><span class="p">,</span>
                <span class="n">prev_nodeinfo</span><span class="o">.</span><span class="n">tracked_variables</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">nodeinfo</span><span class="o">.</span><span class="n">dependent_variables</span> <span class="o">=</span> <span class="n">nodeinfo</span><span class="o">.</span><span class="n">dependent_variables</span><span class="o">.</span><span class="n">union</span><span class="p">(</span>
                <span class="n">dep</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_update_tracked_variables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">nodeinfo</span><span class="p">:</span> <span class="n">NodeInfo</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="n">LineaID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Determine the tracked variables of each node</span>
        <span class="c1"># Fix me when you see return variables in refactor behaves strange</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="o">=</span><span class="n">node_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">nodeinfo</span><span class="o">.</span><span class="n">assigned_variables</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">nodeinfo</span><span class="o">.</span><span class="n">tracked_variables</span> <span class="o">=</span> <span class="n">nodeinfo</span><span class="o">.</span><span class="n">assigned_variables</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">MutateNode</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">GlobalNode</span><span class="p">):</span>
            <span class="n">predecessor_call_id</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">call_id</span>
            <span class="k">if</span> <span class="n">predecessor_call_id</span> <span class="ow">in</span> <span class="n">nodeinfo</span><span class="o">.</span><span class="n">predecessors</span><span class="p">:</span>
                <span class="n">predecessor_nodeinfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">predecessor_call_id</span><span class="p">]</span>
                <span class="n">nodeinfo</span><span class="o">.</span><span class="n">tracked_variables</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">predecessor_nodeinfo</span><span class="o">.</span><span class="n">tracked_variables</span>
                <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">CallNode</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">global_reads</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
                <span class="ow">and</span> <span class="nb">list</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">global_reads</span><span class="o">.</span><span class="n">values</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
                <span class="ow">in</span> <span class="n">nodeinfo</span><span class="o">.</span><span class="n">predecessors</span>
            <span class="p">):</span>
                <span class="n">nodeinfo</span><span class="o">.</span><span class="n">tracked_variables</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span>
                    <span class="nb">list</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">global_reads</span><span class="o">.</span><span class="n">values</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
                <span class="p">]</span><span class="o">.</span><span class="n">tracked_variables</span>
            <span class="k">elif</span> <span class="p">(</span>
                <span class="n">node</span><span class="o">.</span><span class="n">function_id</span> <span class="ow">in</span> <span class="n">nodeinfo</span><span class="o">.</span><span class="n">predecessors</span>
                <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">function_id</span><span class="p">]</span><span class="o">.</span><span class="n">dependent_variables</span>
                <span class="p">)</span>
                <span class="o">&gt;</span> <span class="mi">0</span>
            <span class="p">):</span>
                <span class="n">nodeinfo</span><span class="o">.</span><span class="n">tracked_variables</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span>
                    <span class="n">node</span><span class="o">.</span><span class="n">function_id</span>
                <span class="p">]</span><span class="o">.</span><span class="n">tracked_variables</span>
            <span class="k">elif</span> <span class="p">(</span>
                <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">positional_args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
                <span class="ow">and</span> <span class="n">node</span><span class="o">.</span><span class="n">positional_args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span> <span class="ow">in</span> <span class="n">nodeinfo</span><span class="o">.</span><span class="n">predecessors</span>
            <span class="p">):</span>
                <span class="n">nodeinfo</span><span class="o">.</span><span class="n">tracked_variables</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span>
                    <span class="n">node</span><span class="o">.</span><span class="n">positional_args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span>
                <span class="p">]</span><span class="o">.</span><span class="n">tracked_variables</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">nodeinfo</span><span class="o">.</span><span class="n">tracked_variables</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">nodeinfo</span><span class="o">.</span><span class="n">tracked_variables</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_retrive_all_session_artifacts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrive all artifacts(targeted, reused) within the session.</span>
<span class="sd">        Note that, the version of reused artifacts within the session does not</span>
<span class="sd">        need to be the same as in `reuse_pre_computed_artifacts`; thus, we need</span>
<span class="sd">        to retrive the correct version in the session with the correct node id</span>
<span class="sd">        to enable graph manipulation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Map node id to artifact assignment within the session</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">all_session_artifacts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">artifact</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">get_artifacts_for_session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_session_id</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">artifact</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_artifacts_name</span>
                <span class="ow">or</span> <span class="n">artifact</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">reuse_pre_computed_artifacts</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="p">):</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">all_session_artifacts</span><span class="p">[</span>
                    <span class="n">artifact</span><span class="o">.</span><span class="n">node_id</span>
                <span class="p">]</span> <span class="o">=</span> <span class="n">LineaArtifact</span><span class="o">.</span><span class="n">get_artifact_from_name_and_version</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">,</span> <span class="n">artifact</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">artifact</span><span class="o">.</span><span class="n">version</span>
                <span class="p">)</span>

        <span class="c1"># Check only one artifact in the session with the name within reuse_pre_computed_artifacts</span>
        <span class="n">session_artifacts_name_count</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span>
            <span class="p">[</span><span class="n">art</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">nodeid</span><span class="p">,</span> <span class="n">art</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_session_artifacts</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">art_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">reuse_pre_computed_artifacts</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">session_artifacts_name_count</span><span class="p">[</span><span class="n">art_name</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;More than one artifacts with the same name </span><span class="si">{</span><span class="n">art_name</span><span class="si">}</span><span class="s2"> in the session.&quot;</span>
                    <span class="o">+</span> <span class="s2">&quot;Please remove it from reuse_pre_computed_artifacts.&quot;</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_update_node_context</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Traverse every node within the session in topologically sorted order</span>
<span class="sd">        and update node_context with following information.</span>

<span class="sd">        - assigned_variables : variables assigned at this node</span>
<span class="sd">        - assigned_artifact : this node is pointing to some artifact</span>
<span class="sd">        - predecessors : predecessors of the node</span>
<span class="sd">        - dependent_variables : union of if any variable is assigned at</span>
<span class="sd">            predecessor node, use the assigned variables; otherwise, use the</span>
<span class="sd">            dependent_variables</span>
<span class="sd">        - tracked_variables : variables that this node is point to</span>
<span class="sd">        - module_import : module name/alias that this node is point to</span>

<span class="sd">        Note that, it is possible to add all these new attributes during the</span>
<span class="sd">        Linea graph creating phase. However, this might sacrifice the runtime</span>
<span class="sd">        performance since some of the information need to query the attributes</span>
<span class="sd">        from predecessors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Map each variable node ID to the corresponding variable name(when variable assigned)</span>
        <span class="c1"># Need to treat import different from regular variable assignment</span>
        <span class="n">variable_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">LineaID</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="n">import_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">LineaID</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_parameters_node</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="n">input_parameters_assignment_nodes</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">LineaID</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">variable_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">get_variables_for_session</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_session_id</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="n">is_import_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">node_id</span><span class="p">):</span>
                <span class="n">import_dict</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="nb">set</span><span class="p">([</span><span class="n">variable_name</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">import_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                    <span class="k">else</span> <span class="n">import_dict</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="nb">set</span><span class="p">([</span><span class="n">variable_name</span><span class="p">]))</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">variable_dict</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="nb">set</span><span class="p">([</span><span class="n">variable_name</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">variable_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                    <span class="k">else</span> <span class="n">variable_dict</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="nb">set</span><span class="p">([</span><span class="n">variable_name</span><span class="p">]))</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">([</span><span class="n">variable_name</span><span class="p">])</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span>
                    <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_parameters</span><span class="p">)</span>
                <span class="p">):</span>
                    <span class="n">input_parameters_assignment_nodes</span><span class="p">[</span>
                        <span class="n">var</span>
                    <span class="p">]</span> <span class="o">=</span> <span class="n">input_parameters_assignment_nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="p">[])</span> <span class="o">+</span> <span class="p">[</span>
                        <span class="n">node_id</span>
                    <span class="p">]</span>

        <span class="c1"># Identify variable dependencies of each node in topological order</span>
        <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">nx</span><span class="o">.</span><span class="n">topological_sort</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">nx_graph</span><span class="p">):</span>

            <span class="n">nodeinfo</span> <span class="o">=</span> <span class="n">NodeInfo</span><span class="p">(</span>
                <span class="n">assigned_variables</span><span class="o">=</span><span class="n">variable_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="nb">set</span><span class="p">()),</span>
                <span class="n">assigned_artifact</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">all_session_artifacts</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
                <span class="k">if</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_session_artifacts</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">dependent_variables</span><span class="o">=</span><span class="nb">set</span><span class="p">(),</span>
                <span class="n">predecessors</span><span class="o">=</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">nx_graph</span><span class="o">.</span><span class="n">predecessors</span><span class="p">(</span><span class="n">node_id</span><span class="p">)),</span>
                <span class="n">tracked_variables</span><span class="o">=</span><span class="nb">set</span><span class="p">(),</span>
                <span class="n">module_import</span><span class="o">=</span><span class="n">import_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="nb">set</span><span class="p">()),</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_update_dependent_variables</span><span class="p">(</span><span class="n">nodeinfo</span><span class="p">,</span> <span class="n">variable_dict</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_update_tracked_variables</span><span class="p">(</span><span class="n">nodeinfo</span><span class="p">,</span> <span class="n">node_id</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">nodeinfo</span>

        <span class="c1"># If a variable is declared as an input parameters, we only support</span>
        <span class="c1"># the literal assignment only happen once in the entire session at this</span>
        <span class="c1"># moment. If there is a way to specify which literal assignment to use</span>
        <span class="c1"># as an input parameter. We can relax this restriction.</span>
        <span class="c1"># We allow multiple assignments to non-literals to handle common cases like the</span>
        <span class="c1"># following:</span>
        <span class="c1"># x = 1</span>
        <span class="c1"># x = x + 1</span>
        <span class="c1"># input_parameters = [x]</span>
        <span class="c1"># In this case, the original definition of x = 1 will be parametrized.</span>
        <span class="k">for</span> <span class="n">var</span><span class="p">,</span> <span class="n">node_ids</span> <span class="ow">in</span> <span class="n">input_parameters_assignment_nodes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">node_ids</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">is_literal_assignment</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span><span class="o">.</span><span class="n">dependent_variables</span><span class="p">)</span>
                        <span class="o">==</span> <span class="mi">0</span>
                    <span class="p">)</span>
                    <span class="n">previous_assignment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_parameters_node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                        <span class="n">var</span><span class="p">,</span> <span class="kc">None</span>
                    <span class="p">)</span>

                    <span class="k">if</span> <span class="n">previous_assignment</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">input_parameters_node</span><span class="p">[</span><span class="n">var</span><span class="p">]</span> <span class="o">=</span> <span class="n">node_id</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">previous_assignment_is_literal</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="nb">len</span><span class="p">(</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span>
                                    <span class="n">previous_assignment</span>
                                <span class="p">]</span><span class="o">.</span><span class="n">dependent_variables</span>
                            <span class="p">)</span>
                            <span class="o">==</span> <span class="mi">0</span>
                        <span class="p">)</span>

                        <span class="k">if</span> <span class="p">(</span>
                            <span class="n">is_literal_assignment</span>
                            <span class="ow">and</span> <span class="n">previous_assignment_is_literal</span>
                        <span class="p">):</span>
                            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                                <span class="sa">f</span><span class="s2">&quot;Variable </span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2">, is defined more than once&quot;</span>
                            <span class="p">)</span>
                        <span class="k">elif</span> <span class="ow">not</span> <span class="n">previous_assignment_is_literal</span><span class="p">:</span>
                            <span class="c1"># previous assignment is not literal, so we can reassign it</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">input_parameters_node</span><span class="p">[</span><span class="n">var</span><span class="p">]</span> <span class="o">=</span> <span class="n">node_id</span>
                        <span class="c1"># else previous assignment is literal and we should not override it</span>

        <span class="k">for</span> <span class="n">var</span><span class="p">,</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_parameters_node</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span><span class="o">.</span><span class="n">dependent_variables</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">dep_vars</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="nb">sorted</span><span class="p">(</span>
                        <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span><span class="o">.</span><span class="n">dependent_variables</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;LineaPy only supports input parameters without dependent variables for now. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2"> has dependent variables: </span><span class="si">{</span><span class="n">dep_vars</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_sliced_nodes</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">node_id</span><span class="p">:</span> <span class="n">LineaID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="n">LineaID</span><span class="p">],</span> <span class="n">Set</span><span class="p">[</span><span class="n">LineaID</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get sliced nodes from session graph and separate nodes for import</span>
<span class="sd">        and main calculation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">get_slice_graph</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="p">[</span><span class="n">node_id</span><span class="p">])</span><span class="o">.</span><span class="n">nx_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
        <span class="c1"># Identify import nodes</span>
        <span class="n">importnodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">_node</span>
                <span class="k">for</span> <span class="n">_node</span> <span class="ow">in</span> <span class="n">nodes</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">_node</span><span class="p">]</span><span class="o">.</span><span class="n">module_import</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
            <span class="p">]</span>
        <span class="p">)</span>
        <span class="c1"># Ancestors of import node should be also for import</span>
        <span class="n">importnodes</span> <span class="o">=</span> <span class="n">importnodes</span><span class="o">.</span><span class="n">union</span><span class="p">(</span>
            <span class="o">*</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">get_ancestors</span><span class="p">(</span><span class="n">import_node_id</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">import_node_id</span> <span class="ow">in</span> <span class="n">importnodes</span>
            <span class="p">]</span>
        <span class="p">)</span>
        <span class="c1"># Ancestors might not in nodes</span>
        <span class="n">importnodes</span> <span class="o">=</span> <span class="n">importnodes</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">importnodes</span>

    <span class="k">def</span> <span class="nf">_get_predecessor_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">importnodes</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Figure out where each predecessor is coming from which artifact in</span>
<span class="sd">        both artifact name and nodeid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">predecessor_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span><span class="o">.</span><span class="n">union</span><span class="p">(</span>
            <span class="o">*</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">n_id</span><span class="p">]</span><span class="o">.</span><span class="n">predecessors</span> <span class="k">for</span> <span class="n">n_id</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">predecessor_nodes</span> <span class="o">=</span> <span class="n">predecessor_nodes</span> <span class="o">-</span> <span class="n">nodes</span> <span class="o">-</span> <span class="n">importnodes</span>
        <span class="n">predecessor_artifact</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">n_id</span><span class="p">]</span><span class="o">.</span><span class="n">artifact_name</span> <span class="k">for</span> <span class="n">n_id</span> <span class="ow">in</span> <span class="n">predecessor_nodes</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">predecessor_nodes</span><span class="p">,</span> <span class="n">predecessor_artifact</span>

    <span class="k">def</span> <span class="nf">_get_common_variables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">curr_nc</span><span class="p">:</span> <span class="n">UserCodeNodeCollection</span><span class="p">,</span> <span class="n">pred_nc</span><span class="p">:</span> <span class="n">UserCodeNodeCollection</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Set</span><span class="p">[</span><span class="n">LineaID</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identify common variables for two NodeCollections.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pred_nc</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
        <span class="n">common_inner_variables</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">pred_nc</span><span class="o">.</span><span class="n">all_variables</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">pred_nc</span><span class="o">.</span><span class="n">return_variables</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span>
            <span class="n">curr_nc</span><span class="o">.</span><span class="n">get_input_variable_sources</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">)[</span><span class="n">pred_nc</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="n">common_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">common_inner_variables</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">slice_variable_nodes</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">n</span>
                <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">curr_nc</span><span class="o">.</span><span class="n">predecessor_nodes</span>
                <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">pred_nc</span><span class="o">.</span><span class="n">node_list</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">assigned_artifact</span>
                <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">artifact_name</span>
            <span class="p">]</span>
            <span class="n">pred_graph_segment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">get_subgraph_from_id</span><span class="p">(</span>
                <span class="nb">list</span><span class="p">(</span><span class="n">pred_nc</span><span class="o">.</span><span class="n">node_list</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">assert</span> <span class="n">pred_graph_segment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">source_art_slice_variable_graph</span> <span class="o">=</span> <span class="n">get_slice_graph</span><span class="p">(</span>
                <span class="n">pred_graph_segment</span><span class="p">,</span>
                <span class="n">slice_variable_nodes</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">common_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">source_art_slice_variable_graph</span><span class="o">.</span><span class="n">nx_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">common_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="c1"># Want the return variales in consistent ordering</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">common_inner_variables</span><span class="p">)),</span> <span class="n">common_nodes</span>

    <span class="k">def</span> <span class="nf">_slice_session_artifacts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Divide all session nodes into a set of non-overlapping nodes. Each set</span>
<span class="sd">        responds to one artifact or common variables calculation. All the import</span>
<span class="sd">        nodes will belong to one set and all input variable nodes will belong to</span>
<span class="sd">        another set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">used_nodes</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">LineaID</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>  <span class="c1"># Track nodes that get ever used</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">import_nodes</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">LineaID</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">n</span><span class="o">.</span><span class="n">assigned_artifact</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="ow">and</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_session_artifacts</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="p">):</span>
                <span class="n">art</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_session_artifacts</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span>
                <span class="c1"># Identify nodes to calculate the artifact from sliced graphs</span>
                <span class="n">sliced_nodes</span><span class="p">,</span> <span class="n">sliced_import_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_sliced_nodes</span><span class="p">(</span>
                    <span class="n">node_id</span>
                <span class="p">)</span>
                <span class="c1"># Attach import nodes to import NodeCollection</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">import_nodes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">sliced_import_nodes</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">used_nodes</span><span class="p">)</span>
                <span class="c1"># New nodes to calculate this specifict artifact</span>
                <span class="n">art_nodes</span> <span class="o">=</span> <span class="n">sliced_nodes</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">used_nodes</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_nodes</span>
                <span class="c1"># Update used nodes</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">used_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">used_nodes</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">art_nodes</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">import_nodes</span>
                <span class="p">)</span>
                <span class="c1"># Identify precedent artifacts(id and name)</span>
                <span class="n">pred_nodes</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_predecessor_info</span><span class="p">(</span>
                    <span class="n">art_nodes</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_nodes</span>
                <span class="p">)</span>
                <span class="c1"># Check whether this artifact should be replaced by</span>
                <span class="c1"># pre-computed value, None if no and (name, version) if yes</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">n</span><span class="o">.</span><span class="n">assigned_artifact</span>
                    <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">reuse_pre_computed_artifacts</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                <span class="p">):</span>
                    <span class="n">reuse_def</span> <span class="o">=</span> <span class="n">get_lineaartifactdef</span><span class="p">(</span>
                        <span class="p">(</span>
                            <span class="n">n</span><span class="o">.</span><span class="n">assigned_artifact</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">reuse_pre_computed_artifacts</span><span class="p">[</span>
                                <span class="n">n</span><span class="o">.</span><span class="n">assigned_artifact</span>
                            <span class="p">]</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>

                    <span class="n">nodecollectioninfo</span><span class="p">:</span> <span class="n">ArtifactNodeCollection</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="n">ArtifactNodeCollection</span><span class="p">(</span>
                            <span class="n">name</span><span class="o">=</span><span class="n">n</span><span class="o">.</span><span class="n">assigned_artifact</span><span class="p">,</span>
                            <span class="n">node_list</span><span class="o">=</span><span class="n">art_nodes</span><span class="p">,</span>
                            <span class="n">tracked_variables</span><span class="o">=</span><span class="n">n</span><span class="o">.</span><span class="n">tracked_variables</span><span class="p">,</span>
                            <span class="n">return_variables</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">tracked_variables</span><span class="p">),</span>
                            <span class="n">predecessor_nodes</span><span class="o">=</span><span class="n">pred_nodes</span><span class="p">,</span>
                            <span class="n">is_pre_computed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">pre_computed_artifact</span><span class="o">=</span><span class="n">reuse_def</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">nodecollectioninfo</span> <span class="o">=</span> <span class="n">ArtifactNodeCollection</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">n</span><span class="o">.</span><span class="n">assigned_artifact</span><span class="p">,</span>
                        <span class="n">node_list</span><span class="o">=</span><span class="n">art_nodes</span><span class="p">,</span>
                        <span class="n">tracked_variables</span><span class="o">=</span><span class="n">n</span><span class="o">.</span><span class="n">tracked_variables</span><span class="p">,</span>
                        <span class="n">return_variables</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">tracked_variables</span><span class="p">),</span>
                        <span class="n">predecessor_nodes</span><span class="o">=</span><span class="n">pred_nodes</span><span class="p">,</span>
                        <span class="n">is_pre_computed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                    <span class="p">)</span>

                <span class="c1"># Update node context to label the node is assigned to this artifact</span>
                <span class="k">for</span> <span class="n">n_id</span> <span class="ow">in</span> <span class="n">nodecollectioninfo</span><span class="o">.</span><span class="n">node_list</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">n_id</span><span class="p">]</span><span class="o">.</span><span class="n">artifact_name</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">assigned_artifact</span>
                <span class="k">for</span> <span class="n">n_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_nodes</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">[</span><span class="n">n_id</span><span class="p">]</span><span class="o">.</span><span class="n">artifact_name</span> <span class="o">=</span> <span class="s2">&quot;module_import&quot;</span>

                <span class="c1"># Check whether we need to breakdown existing artifact node</span>
                <span class="c1"># collection. If the precedent node in precedent collection</span>
                <span class="c1"># is not the artifact itself, this means we should split the</span>
                <span class="c1"># existing collection.</span>
                <span class="k">for</span> <span class="p">(</span>
                    <span class="n">source_artifact_name</span><span class="p">,</span>
                    <span class="n">variables</span><span class="p">,</span>
                <span class="p">)</span> <span class="ow">in</span> <span class="n">nodecollectioninfo</span><span class="o">.</span><span class="n">get_input_variable_sources</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span>
                <span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">source_id</span><span class="p">,</span> <span class="n">source_info</span> <span class="o">=</span> <span class="p">[</span>
                        <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">context</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span>
                        <span class="p">)</span>
                        <span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">source_artifact_name</span>
                    <span class="p">][</span><span class="mi">0</span><span class="p">]</span>

                    <span class="c1"># Common variables between two artifacts</span>
                    <span class="p">(</span>
                        <span class="n">common_inner_variables</span><span class="p">,</span>
                        <span class="n">common_nodes</span><span class="p">,</span>
                    <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_common_variables</span><span class="p">(</span>
                        <span class="n">nodecollectioninfo</span><span class="p">,</span> <span class="n">source_info</span>
                    <span class="p">)</span>

                    <span class="c1"># If common inner variables detected, split the precedent</span>
                    <span class="c1"># NodeCollection into two parts. One for calculation of</span>
                    <span class="c1"># common variables and the other for rest of artifact</span>
                    <span class="c1"># calculation.</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">common_inner_variables</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">common_nodes</span><span class="p">):</span>

                        <span class="n">common_nodecollectioninfo</span> <span class="o">=</span> <span class="n">UserCodeNodeCollection</span><span class="p">(</span>
                            <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">common_inner_variables</span><span class="p">)</span><span class="si">}</span><span class="s2">_for_artifact_</span><span class="si">{</span><span class="n">source_info</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">_and_downstream&quot;</span><span class="p">,</span>
                            <span class="n">node_list</span><span class="o">=</span><span class="n">common_nodes</span><span class="p">,</span>
                            <span class="n">return_variables</span><span class="o">=</span><span class="n">common_inner_variables</span><span class="p">,</span>
                        <span class="p">)</span>
                        <span class="n">common_nodecollectioninfo</span><span class="o">.</span><span class="n">update_variable_info</span><span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_parameters_node</span>
                        <span class="p">)</span>

                        <span class="n">remaining_nodes</span> <span class="o">=</span> <span class="n">source_info</span><span class="o">.</span><span class="n">node_list</span> <span class="o">-</span> <span class="n">common_nodes</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source_info</span><span class="p">,</span> <span class="n">ArtifactNodeCollection</span><span class="p">):</span>
                            <span class="n">remaining_nodecollectioninfo</span><span class="p">:</span> <span class="n">UserCodeNodeCollection</span> <span class="o">=</span> <span class="n">ArtifactNodeCollection</span><span class="p">(</span>
                                <span class="n">name</span><span class="o">=</span><span class="n">source_info</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                                <span class="n">node_list</span><span class="o">=</span><span class="n">remaining_nodes</span><span class="p">,</span>
                                <span class="n">return_variables</span><span class="o">=</span><span class="n">source_info</span><span class="o">.</span><span class="n">return_variables</span><span class="p">,</span>
                                <span class="n">is_pre_computed</span><span class="o">=</span><span class="n">source_info</span><span class="o">.</span><span class="n">is_pre_computed</span><span class="p">,</span>
                                <span class="n">pre_computed_artifact</span><span class="o">=</span><span class="n">source_info</span><span class="o">.</span><span class="n">pre_computed_artifact</span><span class="p">,</span>
                            <span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>  <span class="c1"># outputs a common variable, use base UserCodeNodeCollection instead.</span>
                            <span class="n">remaining_nodecollectioninfo</span> <span class="o">=</span> <span class="n">UserCodeNodeCollection</span><span class="p">(</span>
                                <span class="n">name</span><span class="o">=</span><span class="n">source_info</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                                <span class="n">node_list</span><span class="o">=</span><span class="n">remaining_nodes</span><span class="p">,</span>
                                <span class="n">return_variables</span><span class="o">=</span><span class="n">source_info</span><span class="o">.</span><span class="n">return_variables</span><span class="p">,</span>
                            <span class="p">)</span>

                        <span class="n">remaining_nodecollectioninfo</span><span class="o">.</span><span class="n">update_variable_info</span><span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_parameters_node</span>
                        <span class="p">)</span>

                        <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span><span class="p">[:</span><span class="n">source_id</span><span class="p">]</span>
                            <span class="o">+</span> <span class="p">[</span>
                                <span class="n">common_nodecollectioninfo</span><span class="p">,</span>
                                <span class="n">remaining_nodecollectioninfo</span><span class="p">,</span>
                            <span class="p">]</span>
                            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span><span class="p">[(</span><span class="n">source_id</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">:]</span>
                        <span class="p">)</span>

                <span class="c1"># Remove input parameter node</span>
                <span class="n">nodecollectioninfo</span><span class="o">.</span><span class="n">update_variable_info</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_parameters_node</span>
                <span class="p">)</span>
                <span class="n">nodecollectioninfo</span><span class="o">.</span><span class="n">node_list</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">nodecollectioninfo</span><span class="o">.</span><span class="n">node_list</span>
                    <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_parameters_node</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nodecollectioninfo</span><span class="p">)</span>

        <span class="c1"># NodeCollection for import</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">import_nodecollection</span> <span class="o">=</span> <span class="n">ImportNodeCollection</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">node_list</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">import_nodes</span>
        <span class="p">)</span>

        <span class="c1"># NodeCollection for input parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_parameters_nodecollection</span> <span class="o">=</span> <span class="n">InputVarNodeCollection</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">node_list</span><span class="o">=</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_parameters_node</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_update_nodecollection_dependencies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Identify the dependencies graph of each NodeCollections that compute</span>
<span class="sd">        an artifact or common variables for multiple artifacts. Remove useless</span>
<span class="sd">        NodeCollections that only use to calculate artifacts in</span>
<span class="sd">        reuse_pre_computed_artifacts list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">last_appearance_nc</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="n">dependencies</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="c1"># Artifact nodes that are going to be replaced by cached value</span>
        <span class="n">cache_nodes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">nc</span><span class="o">.</span><span class="n">name</span>
            <span class="k">for</span> <span class="n">nc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nc</span><span class="p">,</span> <span class="n">ArtifactNodeCollection</span><span class="p">)</span> <span class="ow">and</span> <span class="n">nc</span><span class="o">.</span><span class="n">is_pre_computed</span>
        <span class="p">]</span>
        <span class="c1"># Determine input variables of a nodecollection are coming from output</span>
        <span class="c1"># variables of nodecollections to build the NodeCollection dependencies</span>
        <span class="k">for</span> <span class="n">nc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span><span class="p">:</span>
            <span class="n">dependencies</span><span class="p">[</span><span class="n">nc</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">nc</span><span class="o">.</span><span class="n">input_variables</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">last_appearance_nc</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">dependencies</span><span class="p">[</span><span class="n">nc</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">last_appearance_nc</span><span class="p">[</span><span class="n">var</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">nc</span><span class="o">.</span><span class="n">return_variables</span><span class="p">:</span>
                <span class="n">last_appearance_nc</span><span class="p">[</span><span class="n">var</span><span class="p">]</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">name</span>
        <span class="c1"># Nodecollection dependencies</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodecollection_dependencies</span> <span class="o">=</span> <span class="n">TaskGraph</span><span class="p">(</span>
            <span class="n">nodes</span><span class="o">=</span><span class="p">[</span><span class="n">nc</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">nc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span><span class="p">],</span>
            <span class="n">edges</span><span class="o">=</span><span class="n">dependencies</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nodecollection_dependencies</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nodecollection_dependencies</span><span class="o">.</span><span class="n">remap_nodes</span><span class="p">(</span>
                <span class="n">mapping</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">nc</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">nc</span><span class="o">.</span><span class="n">safename</span>
                    <span class="k">for</span> <span class="n">nc</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span>
                <span class="p">},</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="c1"># Graph with each nodecollection as node</span>
        <span class="n">nc_graph</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nodecollection_dependencies</span><span class="o">.</span><span class="n">graph</span>
        <span class="c1"># Edges point to cached nodes</span>
        <span class="n">cache_nodes_edges</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="n">from_node</span><span class="p">,</span> <span class="n">to_node</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">from_node</span><span class="p">,</span> <span class="n">to_node</span> <span class="ow">in</span> <span class="n">nc_graph</span><span class="o">.</span><span class="n">edges</span>
            <span class="k">if</span> <span class="n">from_node</span> <span class="ow">in</span> <span class="n">cache_nodes</span>
        <span class="p">]</span>
        <span class="c1"># Remove these edges and the nodecollection graph might split into</span>
        <span class="c1"># multiple components, only keep components with user required artifact</span>
        <span class="n">nc_graph</span><span class="o">.</span><span class="n">remove_nodes_from</span><span class="p">(</span><span class="n">cache_nodes</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nc_graph</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">cache_nodes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">artifact_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">art</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">art</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_artifacts</span><span class="p">])</span>

            <span class="n">nc_graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">nc_graph</span><span class="o">.</span><span class="n">subgraph</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">nc_graph</span><span class="o">.</span><span class="n">to_undirected</span><span class="p">())</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">artifact_names</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span>
                <span class="p">]</span>
            <span class="p">)</span>
            <span class="n">nc_graph</span><span class="o">.</span><span class="n">add_nodes_from</span><span class="p">(</span><span class="n">cache_nodes</span><span class="p">)</span>
            <span class="n">nc_graph</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">(</span>
                <span class="p">[</span><span class="n">edge</span> <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">cache_nodes_edges</span> <span class="k">if</span> <span class="n">edge</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">nc_graph</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">art</span>
                <span class="k">for</span> <span class="n">art</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span>
                <span class="k">if</span> <span class="n">art</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">nc_graph</span><span class="o">.</span><span class="n">nodes</span>
            <span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nodecollection_dependencies</span><span class="o">.</span><span class="n">graph</span> <span class="o">=</span> <span class="n">nc_graph</span>

    <span class="k">def</span> <span class="nf">_get_first_artifact_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the name of first artifact(topologically sorted).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">coll</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">coll</span><span class="p">,</span> <span class="n">ArtifactNodeCollection</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">coll</span><span class="o">.</span><span class="n">safename</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">get_libraries</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ImportNodeORM</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list of ImportNodeORM&#39;s containing the libraries associated with this SessionArtifact.</span>

<span class="sd">        This function works by taking the imported library information from the whole session</span>
<span class="sd">        and checking if the library is used for this SessionArtifact by trying to match with the</span>
<span class="sd">        relevant nodes in the Session Artifacts import_nodes attribute.</span>

<span class="sd">        Specifically we look for CallNodes with function `l_import` and a single argument.</span>
<span class="sd">        The value of the argument Literal node will contain the base library name we want because</span>
<span class="sd">        CallNodes with a single argument are the ones importing without the base_module optional argument,</span>
<span class="sd">        which is only the case when we are importing the base library which we want the name of.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># All libraries in a session</span>
        <span class="n">session_libs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">get_libraries_for_session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">session_id</span><span class="p">)</span>

        <span class="c1"># Libraries this SessionArtifact uses will be stored here by name</span>
        <span class="n">session_artifact_lib_names</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="c1"># Get all nodes in SessionArtifact &quot;import_nodes&quot; attribute.</span>
        <span class="c1"># Note that these nodes are not actually ImportNodes, but simply the</span>
        <span class="c1"># Call/Literal/Lookup Nodes associated with the captured lines</span>
        <span class="c1"># that are import statements.</span>
        <span class="n">import_nodes</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">id</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">get_node_by_id</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_nodes</span>
        <span class="p">}</span>

        <span class="c1"># Try to find library names through their associated CallNode.</span>
        <span class="c1"># This Node must call l_import with one argument which will be the</span>
        <span class="c1"># base library name we&#39;re interested in.</span>
        <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">import_nodes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

            <span class="c1"># check if node is CallNode doing module import</span>
            <span class="k">if</span> <span class="n">is_import_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">node_id</span><span class="p">):</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">CallNode</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>

                <span class="c1"># Check function has a single argument</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">positional_args</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">continue</span>

                <span class="c1"># This single argument should be a literal node holding the library name</span>
                <span class="n">argument_node</span> <span class="o">=</span> <span class="n">import_nodes</span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">positional_args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">]</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">argument_node</span><span class="p">,</span> <span class="n">LiteralNode</span><span class="p">):</span>
                    <span class="k">continue</span>

                <span class="n">session_artifact_lib_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">argument_node</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

        <span class="c1"># Get only session libraries that are used in this SessionArtifact</span>
        <span class="n">session_artifact_libs</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">lib_info</span>
            <span class="k">for</span> <span class="n">lib_info</span> <span class="ow">in</span> <span class="n">session_libs</span>
            <span class="k">if</span> <span class="n">lib_info</span><span class="o">.</span><span class="n">package_name</span> <span class="ow">in</span> <span class="n">session_artifact_lib_names</span>
        <span class="p">]</span>

        <span class="k">return</span> <span class="n">session_artifact_libs</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="lineapy.graph_reader.session_artifacts.SessionArtifacts.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">target_artifacts</span><span class="p">,</span> <span class="n">input_parameters</span><span class="o">=</span><span class="p">[],</span> <span class="n">reuse_pre_computed_artifacts</span><span class="o">=</span><span class="p">[])</span></code>

<a href="#lineapy.graph_reader.session_artifacts.SessionArtifacts.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

      <details class="quote">
        <summary>Source code in <code>lineapy/graph_reader/session_artifacts.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">RelationalLineaDB</span><span class="p">,</span>
    <span class="n">target_artifacts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">LineaArtifact</span><span class="p">],</span>
    <span class="n">input_parameters</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
    <span class="n">reuse_pre_computed_artifacts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">LineaArtifact</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">db</span> <span class="o">=</span> <span class="n">db</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">target_artifacts</span> <span class="o">=</span> <span class="n">target_artifacts</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">target_artifacts_name</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">art</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">art</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_artifacts</span>
    <span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_session_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_artifacts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_session_id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">session_graph</span> <span class="o">=</span> <span class="n">Graph</span><span class="o">.</span><span class="n">create_session_graph</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_id</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_subgraph_from_node_list</span><span class="p">(</span>
        <span class="n">session_graph</span><span class="p">:</span> <span class="n">Graph</span><span class="p">,</span> <span class="n">node_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">LineaID</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Graph</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return the subgraph as LineaPy Graph from list of node id</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">nodes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">node_list</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">session_graph</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_graph</span><span class="o">.</span><span class="n">get_subgraph</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span>

    <span class="c1"># Only interested union of sliced graph of each artifacts</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">graph</span> <span class="o">=</span> <span class="n">_get_subgraph_from_node_list</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session_graph</span><span class="p">,</span>
        <span class="nb">list</span><span class="p">(</span>
            <span class="nb">set</span><span class="o">.</span><span class="n">union</span><span class="p">(</span>
                <span class="o">*</span><span class="p">[</span>
                    <span class="nb">set</span><span class="p">(</span><span class="n">art</span><span class="o">.</span><span class="n">_get_subgraph</span><span class="p">()</span><span class="o">.</span><span class="n">nx_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">art</span> <span class="ow">in</span> <span class="n">target_artifacts</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">usercode_nodecollections</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_context</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">input_parameters</span> <span class="o">=</span> <span class="n">input_parameters</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reuse_pre_computed_artifacts</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">art</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">art</span> <span class="k">for</span> <span class="n">art</span> <span class="ow">in</span> <span class="n">reuse_pre_computed_artifacts</span>
    <span class="p">}</span>

    <span class="c1"># Retrive all artifacts within the subgraph of target artifacts</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_retrive_all_session_artifacts</span><span class="p">()</span>
    <span class="c1"># Add extra attributes(from predecessors) at session Linea nodes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_update_node_context</span><span class="p">()</span>
    <span class="c1"># Divide session graph into a set of non-overlapping NodeCollection</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_slice_session_artifacts</span><span class="p">()</span>
    <span class="c1"># Determine dependencies of NodeCollections and check whether to</span>
    <span class="c1"># replace it with pre-calculated value from artifact store</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_update_nodecollection_dependencies</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="lineapy.graph_reader.session_artifacts.SessionArtifacts.get_libraries" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_libraries</span><span class="p">()</span></code>

<a href="#lineapy.graph_reader.session_artifacts.SessionArtifacts.get_libraries" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Return a list of ImportNodeORM's containing the libraries associated with this SessionArtifact.</p>
<p>This function works by taking the imported library information from the whole session
and checking if the library is used for this SessionArtifact by trying to match with the
relevant nodes in the Session Artifacts import_nodes attribute.</p>
<p>Specifically we look for CallNodes with function <code>l_import</code> and a single argument.
The value of the argument Literal node will contain the base library name we want because
CallNodes with a single argument are the ones importing without the base_module optional argument,
which is only the case when we are importing the base library which we want the name of.</p>

      <details class="quote">
        <summary>Source code in <code>lineapy/graph_reader/session_artifacts.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_libraries</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ImportNodeORM</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of ImportNodeORM&#39;s containing the libraries associated with this SessionArtifact.</span>

<span class="sd">    This function works by taking the imported library information from the whole session</span>
<span class="sd">    and checking if the library is used for this SessionArtifact by trying to match with the</span>
<span class="sd">    relevant nodes in the Session Artifacts import_nodes attribute.</span>

<span class="sd">    Specifically we look for CallNodes with function `l_import` and a single argument.</span>
<span class="sd">    The value of the argument Literal node will contain the base library name we want because</span>
<span class="sd">    CallNodes with a single argument are the ones importing without the base_module optional argument,</span>
<span class="sd">    which is only the case when we are importing the base library which we want the name of.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># All libraries in a session</span>
    <span class="n">session_libs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">get_libraries_for_session</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">session_id</span><span class="p">)</span>

    <span class="c1"># Libraries this SessionArtifact uses will be stored here by name</span>
    <span class="n">session_artifact_lib_names</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="c1"># Get all nodes in SessionArtifact &quot;import_nodes&quot; attribute.</span>
    <span class="c1"># Note that these nodes are not actually ImportNodes, but simply the</span>
    <span class="c1"># Call/Literal/Lookup Nodes associated with the captured lines</span>
    <span class="c1"># that are import statements.</span>
    <span class="n">import_nodes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nb">id</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">get_node_by_id</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span> <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_nodes</span>
    <span class="p">}</span>

    <span class="c1"># Try to find library names through their associated CallNode.</span>
    <span class="c1"># This Node must call l_import with one argument which will be the</span>
    <span class="c1"># base library name we&#39;re interested in.</span>
    <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">import_nodes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

        <span class="c1"># check if node is CallNode doing module import</span>
        <span class="k">if</span> <span class="n">is_import_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph</span><span class="p">,</span> <span class="n">node_id</span><span class="p">):</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">CallNode</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>

            <span class="c1"># Check function has a single argument</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">positional_args</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="c1"># This single argument should be a literal node holding the library name</span>
            <span class="n">argument_node</span> <span class="o">=</span> <span class="n">import_nodes</span><span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">positional_args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">argument_node</span><span class="p">,</span> <span class="n">LiteralNode</span><span class="p">):</span>
                <span class="k">continue</span>

            <span class="n">session_artifact_lib_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">argument_node</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="c1"># Get only session libraries that are used in this SessionArtifact</span>
    <span class="n">session_artifact_libs</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">lib_info</span>
        <span class="k">for</span> <span class="n">lib_info</span> <span class="ow">in</span> <span class="n">session_libs</span>
        <span class="k">if</span> <span class="n">lib_info</span><span class="o">.</span><span class="n">package_name</span> <span class="ow">in</span> <span class="n">session_artifact_lib_names</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="n">session_artifact_libs</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>

<head>
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
</head>



<hr>
<form name="docs-feedback" method="POST" onSubmit="submit" data-netlify="true" netlify-honeypot="bot-field">
    <div class="mdc-card" style="padding:0px 25px 25px 25px">
        <section>
            <h2 class="mdc-card__title mdc-card__title--large" style="text-align:center">Was this helpful?</h2>
            <h5 class="mdc-card__subtitle" style="text-align:center">Help us improve docs with your feedback!</h5>
        </section>
        <label class="mdc-text-field mdc-text-field--outlined mdc-text-field--textarea mdc-text-field--no-label">
            <input name="page" type="text" value="/reference/lineapy/graph_reader/session_artifacts/" hidden />
            <span class="mdc-notched-outline">
                <span class="mdc-notched-outline__leading"></span>
                <span class="mdc-notched-outline__trailing"></span>
            </span>
            <span class="mdc-text-field__resizer">
                <textarea name="message" class="mdc-text-field__input" rows="3"></textarea>
            </span>
        </label>
        <button type="submit" class="mdc-button mdc-button--raised" style="margin-top:15px">
            <span class="mdc-button__label">Send</span>
        </button>
    </div>
</form>


                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../program_slice/" class="md-footer__link md-footer__link--prev" aria-label="Previous: program_slice" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              program_slice
            </div>
          </div>
        </a>
      
      
        
        <a href="../types/" class="md-footer__link md-footer__link--next" aria-label="Next: types" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              types
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 - 2023 Linea Labs
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/LineaLabs/lineapy" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/lineapy_oss" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://lineacommunity.slack.com/join/shared_invite/zt-18kizfn3b-1Qu_HDT3ahGudnAwoFAw9Q#/shared-invite/email" target="_blank" rel="noopener" title="lineacommunity.slack.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.linkedin.com/company/lineapy/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "header.autohide", "navigation.instant", "navigation.tabs", "navigation.top", "navigation.footer", "search.highlight", "search.suggest"], "search": "../../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>