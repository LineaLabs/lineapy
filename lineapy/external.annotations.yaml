- module: keras.engine.training
  annotations:
    - criteria:
        class_method_name: compile
        class_instance: Model
      side_effects:
        - mutated_value:
            self_ref: SELF_REF
    - criteria:
        class_method_name: fit
        class_instance: Model
      side_effects:
        - mutated_value:
            self_ref: SELF_REF
    - criteria:
        class_method_name: save
        class_instance: Model
      side_effects:
        - mutated_value:
            external_state: file_system
- module: tensorflow.keras.utils
  annotations:
    - criteria:
        function_name: get_file
      side_effects:
        - dependency:
            external_state: file_system
        - mutated_value:
            external_state: file_system
- module: torch
  annotations:
    - criteria:
        function_name: manual_seed
      side_effects:
        - mutated_value:
            self_ref: SELF_REF
- module: torch.jit._script
  annotations:
    - criteria:
        class_method_name: save
        class_instance: ScriptModule
      side_effects:
        - mutated_value:
            external_state: file_system
- module: numpy
  annotations:
    - criteria:
        function_names:
          - savetxt
          - savez
      side_effects:
        - mutated_value:
            external_state: file_system
- module: gym.wrappers.monitor
  annotations:
    - criteria:
        class_instance: Monitor
        class_method_name: seed
      side_effects:
        - mutated_value:
            self_ref: SELF_REF # self is a keyword...
        - views:
            - self_ref: SELF_REF
            - result: RESULT
    - criteria:
        class_instance: Monitor
        class_method_name: reset
      side_effects:
        - mutated_value:
            self_ref: SELF_REF # self is a keyword...
        - views:
            - self_ref: SELF_REF
            - result: RESULT
- module: pandas
  annotations:
    - criteria: # I omitted pandas.io.sql, lets see if this works
        function_names:
          - read_sql
          - read_sql_query
          - read_sql_table
      side_effects:
        - dependency:
            external_state: db
    - criteria:
        function_names:
          - read_csv
          - read_fwf
          - read_json
          - read_html
          - read_xml
          - read_excel
          - read_hdf
          - read_feather
          - read_parquet
          - read_orc
          - read_stata
          - read_sas
          - read_spss
          - read_pickle
      side_effects:
        - dependency:
            external_state: file_system
- module: pandas.core.generic
  annotations:
    - criteria:
        class_method_names:
          - to_sql
          - to_gbq
        class_instance: NDFrame
      side_effects:
        - mutated_value:
            external_state: db
    - criteria:
        class_method_names:
          - to_csv
          - to_json
          - to_html
          - to_xml
          - to_excel
          - to_hdf
          - to_feather
          - to_parquet
          - to_stata
          - to_pickle
        class_instance: NDFrame
      side_effects:
        - mutated_value:
            external_state: file_system
    - criteria:
        class_method_names:
          - pop
          - insert
        class_instance: NDFrame
      side_effects:
        - mutated_value:
            self_ref: SELF_REF
    - criteria:
        keyword_arg_name: inplace
        keyword_arg_value: 1
        # NDFrame is a common baseclass between series and dataframes. Any inplace operators on either
        # should mutate the self
        class_instance: NDFrame
      side_effects:
        - mutated_value:
            self_ref: SELF_REF
- module: boto3
  annotations:
    - criteria:
        function_names:
          - upload_file
          - upload_fileobj
      side_effects:
        - mutated_value:
            external_state: file_system
- module: PIL.Image
  annotations:
    - criteria:
        class_instance: Image
        class_method_name: save
      side_effects:
        - mutated_value:
            external_state: file_system
    - criteria:
        function_name: open
      side_effects:
        - dependency:
            external_state: file_system
- module: joblib
  annotations:
    - criteria:
        function_name: dump
      side_effects:
        - mutated_value:
            external_state: file_system
- module: sklearn.base
  annotations:
    - criteria:
        class_instance: BaseEstimator
        class_method_name: fit
      side_effects:
        - mutated_value:
            self_ref: SELF_REF # self is a keyword...
        - views:
            - self_ref: SELF_REF
            - result: RESULT
- module: matplotlib.pyplot
  annotations:
    - criteria:
        function_names:
          - plot
          - boxplot
          - xlim
          - xticks
          - ylim
          - yticks
          - axvline
          - axes
          - text
      side_effects:
        - mutated_value:
            self_ref: SELF_REF
    - criteria:
        function_names:
          - figure
          - subplot
      side_effects:
        - mutated_value:
            self_ref: SELF_REF
        - views:
            - self_ref: SELF_REF
            - result: RESULT
    - criteria:
        function_name: savefig
      side_effects:
        - mutated_value:
            external_state: file_system
- module: matplotlib.figure
  annotations:
    - criteria:
        class_instance: Figure
        class_method_names:
          - gca
          - add_axes
          - add_subplot
      side_effects:
        - mutated_value:
            self_ref: SELF_REF
        - views:
            - self_ref: SELF_REF
            - result: RESULT
    - criteria:
        class_instance: Figure
        class_method_name: savefig
      side_effects:
        - mutated_value:
            external_state: file_system
- module: matplotlib.patches
  annotations:
    - criteria:
        class_instance: Rectangle
        class_method_name: set_alpha
      side_effects:
        - mutated_value:
            self_ref: SELF_REF
- module: matplotlib.axes._subplots
  annotations:
    - criteria:
        class_instance: SubplotBase
        class_method_names:
          - axvline
          - set_xticks
          - set_xlim
          - set_xlabel
          - set_yticks
          - set_ylim
          - set_ylabel
          - invert_yaxis
          - set_title
          - bar_label
          - plot
      side_effects:
        - mutated_value:
            self_ref: SELF_REF
